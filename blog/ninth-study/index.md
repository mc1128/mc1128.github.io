---
layout: post
title: '16~19일차 교육 내용'
subtitle: 'JAVA GUI, Thread'
type: 'Study'
blog: true
text: true
author: 'Minchoel Hwang'
post-header: true
header-img: 'https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80'
order: 9
category: study
tags: [study]
date: 2021-03-20
---

# 13장 GUI

### Java GUI(Graphic User Interface)

- 이미지 혹은 그래픽을 이용하여 메뉴 등을 포함하는 화면을 구성하고,키보드 외 마우스 등의 편리한 입력 도구를 이용하여 사용자가 입력하기 편하도록 만들어진 사용자 인터페이스이다.
- java에서는 AWT와 Swing으로 어떠한 언어보다 강력한 GUI 라이브러리를 제공하여 소프트웨어 개발자들이 다양한 GUI를 쉽게 구성할 수 있도록 한다.

### AWT와 Swing

> 자바 언어는 GUI 프로그램을 쉽게 작성할 수 있도록 다양한 GUI 컴포넌트을 제공한다. 자바 GUI 컴포넌트는 AWT 컴포넌트와 Swing 컴포넌트로 구분이 된다.

- **AWT 컴포넌트**
  - java.awt 패키지를 통하여 공급이 된다.
  - 운영체제의 도움을 받아 화면에 출력되기 때문에 운영체제의 자원을 많이 소모하여 운영체제에 많은 부담을 주게 된다.
  - 운영체제마다 컴포넌트의 모양이 다르게 나타난다.
- **Swing 컴포넌트**
  - javax.swing 패키지를 통하여 공급이 된다.
  - AWT와 다르게 자바 언어로 작성이 되었다.[^1]
  - 운영체제의 도움을 받지 않았다.[^2]
  - AWT에는 없는 풍부한 고급 Swing 컴포넌트들을 추가적으로 개발을 하였다.
  - 다양하고 모양이 예쁜 Swing 컴포넌트를 더 많이 사용한다. => 최근에는 거의 모든 GUI 프로그램이 Swing 기반으로 작성된다.

[^1]: Sun사와 네스케이프라는 회사가 공동으로 개발하였다.
[^2]: 경량 컴포넌트라고 불리며, 운영체제와 관계 없이 항상 동일한 모양이 나타난다.

### GUI 에서 알아두어야 할 용어 3가지

> 컴포넌트를 컨테이너에 올리고 컨테이너를 프레임에 올린다.

- **컴포넌트**
  - 버튼, 텍스트상자, 레이블상자, 옵션박스, 체크박스, 라디오버튼 등을 말한다.
- **컨테이너**
  - 컴포넌트들을 담을 수 있는 클래스. 컴포넌트는 반드시 컨테이너에 올려져야 화면에 보여진다.
- **프레임**
  - 컨테이너들을 담을 수 있는 클래스. 컨테이너는 반드시 프레임에 올려져야 화면에 보여진다.

[GUI 기초와 자주 사용하는 컴포넌트 정리](https://ssungkang.tistory.com/entry/Java-GUI-%EA%B8%B0%EC%B4%88-%EC%9E%90%EC%A3%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%93%A4%EC%9D%84-%EC%A0%95%EB%A6%AC%ED%95%B4%EB%B3%B4%EC%9E%90)를 참고하면 좋다.

### 배치관리자(Layout)

- 화면(Frame)에 컴포넌트들을 배치하는 방법을 알려 주는 관리자.
- 대표적인 배치관리자의 종류
  - FlowLayout
  - BorderLayout
  - GridLayout
  - CardLayout

**FlowLayout**

- 배치 : 좌 -> 우
- 상단 중앙에 컴포넌트를 배치를 한다.
- 화면이 넘칠 경우에는 바로 밑(아래) 중앙에 배치가 된다.
- 배치관리자를 지정하지 않은 경우, default로 FlowLayout 배치관리자로 배치를 한다.

**BorderLayout**

- 배치 : 동쪽, 서쪽, 남쪽, 북쪽, 중앙

**GridLayout**

- 격자 모양의 배치관리자.
- 행과 열로 화면이 구성이 된다.
- 무조건 행이 기준이 된다.

**CardLayout**

- 여러장의 카드(패널)를 만들어 원하는 카드를 가장 윗쪽에 올린다는 개념으로 생각하면 된다.
- 한개의 Frame에 여러개의 Panel 을 만들어 활용해야 한다.

### 이벤트 핸들러 (Event Handler)

- 각 컴포넌트에 대하여 특정 행위를 하였을 때 그 행위에 대한 작업을 처리할 수 있도록 하는 것을 말한다.
- 사용자 또는 프로그램에 의해 발생할 수 있는 하나의 사건.
- 이벤트 발생 : ActionEvent 클래스
- ActionListener : ActionEvent를 감지하는 인터페이스.
- 이벤트 리스너는 모두가 다 인터페이스(~Listener), 이벤트를 처리하는 프로그램 코드를 말하며 컴포넌트에 연결되어 있어야 작동을 한다.[^3]
- 컴포넌트와 리스너를 연결시키는 메서드
  - add~Listener() : ~는 리스너의 이름.

<br/>

**이벤트 리스너 작성 과정**

1. 이벤트와 이벤트 리스너 선택 : 목적에 적합한 이벤트와 리스너 인터페이스 선택.
2. 이벤트 리스너 클래스 작성 : 리스너 인터페이스를 상속받은 클래스를 작성하고 추상메서드를 모두 구현.
3. 이벤트 리스너 등록 : 이벤트를 받을 컴포넌트에 이벤트 리스너 등록.

[^3]: 즉, 화면에 구성된 컴포넌트들은 이벤트 리스너를 하나씩 가지고 있다.

<br/>

**이벤트 동작 과정 예시**

- 사용자가 마우스로 버튼을 클릭한다.
- 버튼 클릭은 운영체제의 마우스 드라이버를 거쳐 자바 가상기계(JVM)에 전달이 된다.
- 자바가상기계는 이벤트 분배 스레드에게 마우스 클릭에 관한 정보를 전달한다.
- 이벤트 분배 스레드는 이벤트(ActionEvent) 객체를 생성하고 이벤트 객체는 이벤트에 관련된 여러 정보를 담고 있는 객체이다. 이벤트 객체 내에 저장되는 정보 중에 특별히 이벤트를 발생시킨 컴포넌트를 이벤트 소스라고 부른다.[^4]
- 이벤트 분배 스레드는 JButton에 연결된 버튼 컴포넌트와 관련된 이벤트 리스너를 찾아서 호출을 한다.
- 이벤트 분배 스레드는 다음 이벤트를 기다린다.

[^4]: 여기서 이벤트 소스는 버튼에 글자가 새겨진 JButton 컴포넌트이다.

### 이벤트 관련 용어

- **이벤트 소스**
  - 발생한 이벤트에 대한 정보[^5]를 담는 객체로서, 이벤트에 따라 서로 다른 정보가 저장된다.
- **이벤트 리스너**
  - 이벤트를 처리하는 코드로서 컴포넌트에 등록이 되어야 작동이 가능하다. 이벤트 소스와 이벤트 핸들러를 연결한다.
- **이벤트 분배 스레드**
  - 이벤트 기반 프로그래밍의 핵심 요소로서 무한 루프를 실행하는 스레드, 자바 가상 기계로부터 이벤트 발생의 통지를 받아서, 이벤트 소스와 이벤트 종류를 결정하고 이에 따라 적절한 이벤트 객체를 생성하고 이벤트 리스너를 찾아 호출한다.

[^5]: 이벤트 종류, 이벤트 소스, 화면 좌표, 마우스 버튼의 종류, 눌려진 키

### 이벤트 처리 방법

- 이벤트와 이벤트 리스너(ActionListener) 선택한다.
- 이벤트 리스너(인터페이스)를 상속을 받는다.
- 이벤트에 맞게 추상메서드 재정의.
- 이벤트 리스너 등록 : 이벤트를 받을 컴포넌트에 이벤트 리스너 등록.

### 다이얼로그

> 사용자에게 메세지를 전달하거나 간단한 문자열을 입력 받는 유용한 방법

- **입력 다이얼로그** : JOptionPane.showInputDialog()
  - 한 줄 문자열을 입력 받는 다이얼로그.
- **확인 다이얼로그** : JOptionPane.showConfirmDialog()
  - 사용자로부터 확인 or 취소를 입력 받는 다이얼로그.
- **메세지 다이얼로그** : JOptionPane.showMessageDialog()
  - 사용자에게 문자열 메세지를 출력 하기 위한 다이얼로그.

<br/>

---

# 14장 Thread

### Thread가 도입된 계기

- 무한반복을 가진 프로세스[^6]를 실행할 경우 CPU가 해당 프로세스를 놓지 않기 때문에 다음 프로세스를 실행할 수가 없게 되기에 이러한 문제점을 개성하기 위해서 Thread 개념이 도입이 되었다.

[^6]: 현재 CPU에 의해서 처리되는 프로그램, 운영체제로부터 메모리를 할당을 받으며 자바에서는 하나의 클래스를 의미한다.

### Thread란?

> Process를 작은 단위로 쪼개어 놓은 작업 단위

- 실제 프로그램이 수행되는 작업의 최소 단위이며, 병행 처리를 지원한다.(멀티태스킹).
- 응용분야 : 게임, 채팅 등

### Thread 작성법

- **Thread라는 클래스 상속(extends)하는 방법**

  - Thread라는 클래스를 상속을 받는다.
  - run() 메서드를 재정의 - 스레드 구현
  - 스레드 클래스 객체 생성
  - 참조변수.start() 메서드 호출 ==> run() 메서드 실행

- **Runnable 인터페이스를 구현(implements)하는 방법**
  - Runnable 인터페이스를 상속(implements)
  - run() 추상메서드 재정의 ==> 강제성
  - 스레드 클래스(자식클래스) 객체 생성
  - Thread 라는 클래스 객체 생성. ==> Thread 라는 클래스의 생성자의 인자에 자식클래스의 참조 변수를 기재.
  - Thread 라는 클래스의 참조변수.start() 메서드 호출

[Thread 작성법 예제](https://wikidocs.net/230)에서 자세한 내용 확인.

<br/>

**무명 클래스(anonymous class)를 이용한 스레드 생성**

- 코드의 집중화로 가독성이 높아진다.
- 별도의 상속 과정이 필요가 없어진다.

<br/>

**멀티 스레드와 스레드 이름 지정**

- 멀티 스레드
  - 하나의 스레드 클래스를 대상으로 2개 이상의 스레드 객체를 생성하는 기법.
- 스레드 이름 지정 - 멀티스레드에서 생성한 스레드 객체에 이름을 부여하는 과정.
  {% highlight js %}

        public ThreadA() {  }  // 기본 생성자

        public ThreadA(String name) {
        	super(name);
        }

{% endhighlight %}

- 멀티 스레드는 자신의 이름을 가지고 있다.
- 스레드의 이름이 큰 역할을 하지는 않지만, 디버깅 시 어떤 스레드가 현재 실행되어 작업하는지를 조사(확인)할 목적으로 많이 사용된다.

[자세한 Thread 예제와 설명](https://saludar.tistory.com/106)

# 마무리

GUI와 Thread를 끝으로 자바의 기초 과정을 국비과정을 통해 복습해보는 시간을 가졌다. 대학교 2학년 때 객체 지향 프로그래밍 수업으로 JAVA를 배웠었는데 시간이 지나니 몇가지 개념은 까먹은 것도 있었고, 헷갈리는 것도 있었지만 요번에 자바 미니 프로젝트를 통해서 복습한 내용을 다시 사용해보아야겠다.
